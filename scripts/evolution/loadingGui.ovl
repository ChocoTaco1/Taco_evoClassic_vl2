
// sendModInfoToClient(%client)
// Info: During the briefing, shows server settings (source: classic mod)
function sendModInfoToClient(%client)
{
   //Color safetynet
   if( !$ColorsafetynetRunonce )
   {
		if( $Host::loadingmsgcolor1 $= "" ) $Host::loadingmsgcolor1 = "05edad";
		if( $Host::loadingmsgcolor2 $= "" ) $Host::loadingmsgcolor2 = "29DEE7";
		if( $Host::loadingmsgcolor3 $= "" ) $Host::loadingmsgcolor3 = "33CCCC";
		if( $Host::Info !$= "" ) 			$Host::Info = " ";
		$ColorsafetynetRunonce = true;
   }
   
   %loadingmsgline1 = "<color:" @ $Host::loadingmsgcolor1 @ ">" @ $Host::loadingmsgline1 @ "<color:" @ $Host::loadingmsgcolor2 @ ">" @ $Host::loadingmsgline1content;
   %loadingmsgline2 = "<color:" @ $Host::loadingmsgcolor1 @ ">" @ $Host::loadingmsgline2 @ "<color:" @ $Host::loadingmsgcolor2 @ ">" @ $Host::loadingmsgline2content;
   %loadingmsgline3 = "<color:" @ $Host::loadingmsgcolor1 @ ">" @ $Host::loadingmsgline3 @ "<color:" @ $Host::loadingmsgcolor2 @ ">" @ $Host::loadingmsgline3content;
   %loadingmsgline4 = "<color:" @ $Host::loadingmsgcolor1 @ ">" @ $Host::loadingmsgline4 @ "<color:" @ $Host::loadingmsgcolor2 @ ">" @ $Host::loadingmsgline4content;
   
   if($Host::TimeLimit $= "999" || $Host::TimeLimit $= "unlimited") %timeloadingvar = "Unlimited"; else %timeloadingvar = $Host::TimeLimit;
   
   %time = "<color:" @ $Host::loadingmsgcolor1 @ ">Time limit: <color:" @ $Host::loadingmsgcolor2 @ ">" @ %timeloadingvar;
   %max = "<color:" @ $Host::loadingmsgcolor1 @ ">Max players: <color:" @ $Host::loadingmsgcolor2 @ ">" @ $Host::MaxPlayers;
   %net = "<color:" @ $Host::loadingmsgcolor1 @ ">Packets Rate / Size: <color:" @ $Host::loadingmsgcolor2 @ ">" @ $pref::Net::PacketRateToClient @ " / " @ $pref::Net::PacketSize;
   %smurf = "<color:" @ $Host::loadingmsgcolor1 @ ">Refuse smurfs: <color:" @ $Host::loadingmsgcolor2 @ ">" @ ($Host::NoSmurfs ? "On" : "Off");

   
   //%random = "<color:" @ $Host::loadingmsgcolor1 @ ">Random teams: <color:" @ $Host::loadingmsgcolor2 @ ">" @ ($RandomTeams ? "On" : "Off");
   //%fair = "<color:" @ $Host::loadingmsgcolor1 @ ">Fair teams: <color:" @ $Host::loadingmsgcolor2 @ ">" @ ($Host::ClassicFairTeams ? "On" : "Off");
   //%rape = "<color:" @ $Host::loadingmsgcolor1 @ ">No Base Rape: <color:" @ $Host::loadingmsgcolor2 @ ">" @ ($Host::EvoNoBaseRapeEnabled ? "On" : "Off");
   //%td = "<color:" @ $Host::loadingmsgcolor1 @ ">Team damage: <color:" @ $Host::loadingmsgcolor2 @ ">" @ ($Host::TeamDamageOn ? "On" : "Off");
   //%crc = "<color:" @ $Host::loadingmsgcolor1 @ ">CRC checking: <color:" @ $Host::loadingmsgcolor2 @ ">" @ ($Host::CRCTextures ? "On" : "Off");
   //%pure = "<color:" @ $Host::loadingmsgcolor1 @ ">Pure server: <color:" @ $Host::loadingmsgcolor2 @ ">" @ ($Host::PureServer ? "On" : "Off");


   if($Host::EvoNoBaseRapeEnabled)
   	%rapeppl = "<color:" @ $Host::loadingmsgcolor1 @ ">Min No Base Rape: <color:" @ $Host::loadingmsgcolor2 @ ">" @ $Host::EvoNoBaseRapeClassicPlayerCount;

   %turrets = "<color:" @ $Host::loadingmsgcolor1 @ ">Min Turrets: <color:" @ $Host::loadingmsgcolor2 @ ">" @ $Host::EnableTurretPlayerCount;
   
   if($Host::EvoStats && (!$Host::TournamentMode || ($Host::TournamentMode && $Host::EvoStatsTourney)) && $Host::EvoStatsType != 0)
      %stats = "<color:" @ $Host::loadingmsgcolor1 @ ">Stats based on: <color:" @ $Host::loadingmsgcolor2 @ ">" @ ($Host::EvoStatsType == 1 ? "Kills" : "Damage");
	  
   if($Evo::ETMMode && $ETMmode::CurrentMap <= $ETMmode::Counter)
   {
	  %nmis = "<color:" @ $Host::loadingmsgcolor1 @ ">Next mission: <color:" @ $Host::loadingmsgcolor2 @ ">" @ $ETMmode::MapDisplayName[$ETMmode::CurrentMap];
   }
   else
   {
      %nmis = "<color:" @ $Host::loadingmsgcolor1 @ ">Next mission: <color:" @ $Host::loadingmsgcolor2 @ ">" @ findNextCycleMission();
	  if ( $Host::ClassicRandomMissions )
	  {
		%nmis = %nmis SPC "(Random)";
	  }
	  if($Host::EvoTourneySameMap && $Host::TournamentMode)
	  {
		%nmis = "<color:" @ $Host::loadingmsgcolor1 @ ">Next mission: <color:" @ $Host::loadingmsgcolor2 @ ">" @ $CurrentMission @ " (Same)";
	  }
   }
   
	// classic doesn't use a variable to print the version, it needs to be edited manually
   %modName = "";
   //%ModLine[0] = "<color:ffb734>Classic Developers: <color:29DEE7><a:PLAYER\tz0dd>z0dd</a> and <a:PLAYER\t-ZOD->ZOD</a>";
   %ModLine[0] = "<spush><font:sui generis:22><color:" @ $Host::loadingmsgcolor2 @ "><just:center>CLASSIC<spop>";
   %ModLine[1] = "";
   %ModLine[1] = "<spush><font:verdana bold:16><color:" @ $Host::loadingmsgcolor3 @ ">Version: <color:" @ $Host::loadingmsgcolor2 @ ">" @ $classicVersion @ "<spop>";
   %ModLine[3] = "";
   %ModLine[4] = "<spush><font:verdana bold:16><color:" @ $Host::loadingmsgcolor3 @ ">Developers: <color:" @ $Host::loadingmsgcolor2 @ "><a:PLAYER\tz0dd>z0dd</a> <color:" @ $Host::loadingmsgcolor3 @ ">and <color:" @ $Host::loadingmsgcolor2 @ "><a:PLAYER\t-ZOD->ZOD</a><spop>";
   %ModLine[5] = "<just:left><font:univers:18>";
   
   %ModCnt = 6;

   %SpecialCnt = 4;
   %SpecialTextLine[0] = %loadingmsgline1;
   %SpecialTextLine[1] = %loadingmsgline2;
   %SpecialTextLine[2] = %loadingmsgline3;
   %SpecialTextLine[3] = %loadingmsgline4;

   %ServerCnt = 8;
   %ServerTextLine[0] = %time;
   %ServerTextLine[1] = %max;
   %ServerTextLine[2] = %net;
   %ServerTextLine[3] = %smurf;
   %ServerTextLine[4] = %rapeppl;
   %ServerTextLine[5] = %turrets;
   %ServerTextLine[6] = %stats;
   %ServerTextLine[7] = %nmis;
   
   //%serverTextLine[2] = %td;
   //%serverTextLine[3] = %crc;
   //%ServerTextLine[4] = %pure;
   //%ServerTextLine[5] = %fair;
   //%ServerTextLine[6] = %random;
   //%ServerTextLine[7] = %rape;
   

   %singlePlayer = $CurrentMissionType $= "SinglePlayer";
   //messageClient(%client, 'MsgLoadInfo', "", $CurrentMission, %modName, $Host::GameName);
   messageClient(%client, 'MsgLoadInfo', "", $CurrentMission);

   // Send mod details (non bulleted list, small text):
   for(%line = 0; %line < %ModCnt; %line++)
      if(%ModLine[%line] !$= "")
         messageClient(%client, 'MsgLoadQuoteLine', "", %ModLine[%line]);

   // Send mod special settings (bulleted list, large text):
   for(%line = 0; %line < %SpecialCnt; %line++)
      if(%SpecialTextLine[%line] !$= "")
         messageClient(%client, 'MsgLoadObjectiveLine', "", %SpecialTextLine[%line], !%singlePlayer);

   // Send server info:
   if(!%singlePlayer)
      messageClient(%client, 'MsgLoadRulesLine', "", "<color:29DEE7>" @ $Host::Info, false);

   for(%line = 0; %line < %ServerCnt; %line++)
      if (%ServerTextLine[%line] !$= "")
         messageClient(%client, 'MsgLoadRulesLine', "", %ServerTextLine[%line], !%singlePlayer);
         
   messageClient(%client, 'MsgLoadInfoDone');
   
   // z0dd - ZOD, 5/12/02. Send mission info again so as not to conflict with cs scripts.
   schedule(10000, 0, "sendLoadInfoToClient", %client, true);
}

